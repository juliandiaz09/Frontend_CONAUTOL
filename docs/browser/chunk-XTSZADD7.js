import{b as h,c as u,d as w,e as y,g as M,j as E,k as S,p as O,r as I}from"./chunk-U6PYTPUR.js";import{a as P}from"./chunk-SN34MVIC.js";import{Eb as s,Fb as _,Gb as C,La as o,Qa as c,Va as g,_a as p,fb as m,mc as x,nb as n,ob as i,pb as f,tc as b,ub as v,vb as d}from"./chunk-ZNBC4ISR.js";import"./chunk-ODN5LVDJ.js";function R(e,a){e&1&&(n(0,"small"),s(1,"El email es requerido."),i())}function N(e,a){e&1&&(n(0,"small"),s(1,"Email inv\xE1lido."),i())}function T(e,a){if(e&1&&(n(0,"div",7),p(1,R,2,0,"small",8)(2,N,2,0,"small",8),i()),e&2){let r,t,l=d();o(),m("ngIf",(r=l.form.get("email"))==null||r.errors==null?null:r.errors.required),o(),m("ngIf",(t=l.form.get("email"))==null||t.errors==null?null:t.errors.email)}}function A(e,a){if(e&1&&(n(0,"p",9),s(1),i()),e&2){let r=d();o(),_(r.message)}}var F=class e{constructor(a,r){this.fb=a;this.api=r;this.form=this.fb.group({email:["",[u.required,u.email]]})}form;isLoading=!1;message=null;submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.isLoading=!0,this.message=null,this.api.recoverPassword(this.form.value.email).subscribe({next:a=>{this.isLoading=!1,this.message=a.message||"Email enviado, revisa tu bandeja."},error:()=>{this.isLoading=!1,this.message="Error al solicitar recuperaci\xF3n."}})}static \u0275fac=function(r){return new(r||e)(c(O),c(P))};static \u0275cmp=g({type:e,selectors:[["app-recuperar-password"]],decls:14,vars:5,consts:[[1,"recover-panel","container"],[1,"card"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","tu@correo.com"],["class","error",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","message",4,"ngIf"],[1,"error"],[4,"ngIf"],[1,"message"]],template:function(r,t){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Recuperar contrase\xF1a"),i(),n(4,"p"),s(5," Ingresa tu correo y te enviaremos un link para restablecer tu contrase\xF1a. "),i(),n(6,"form",2),v("ngSubmit",function(){return t.submit()}),n(7,"label"),s(8," Email "),f(9,"input",3),i(),p(10,T,3,2,"div",4),n(11,"button",5),s(12),i()(),p(13,A,2,1,"p",6),i()()),r&2){let l;o(6),m("formGroup",t.form),o(4),m("ngIf",((l=t.form.get("email"))==null?null:l.touched)&&((l=t.form.get("email"))==null?null:l.invalid)),o(),m("disabled",t.isLoading),o(),C(" ",t.isLoading?"Enviando...":"Enviar"," "),o(),m("ngIf",t.message)}},dependencies:[b,x,I,M,h,w,y,E,S],styles:[".recover-panel[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:36px 12px}.recover-panel[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--color-surface);padding:20px;border-radius:12px;max-width:480px;box-shadow:0 10px 30px #0206170f}.recover-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--color-primary)}.recover-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-muted)}.recover-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:12px;font-weight:600}.recover-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:8px;border:1px solid var(--color-border)}.recover-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:12px;width:100%}.recover-panel[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:12px;color:var(--color-primary);font-weight:600}"]})};export{F as RecuperarPasswordComponent};
