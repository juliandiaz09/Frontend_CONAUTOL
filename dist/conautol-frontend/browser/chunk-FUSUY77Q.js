import{a as I}from"./chunk-SN34MVIC.js";import{c as k}from"./chunk-M6P4XVJY.js";import"./chunk-GJKZ2IBC.js";import{Ab as M,Bb as O,Cb as w,Eb as i,Fb as b,Ha as u,Ia as v,La as s,Qa as m,Va as C,Z as f,_ as x,_a as h,fb as p,lc as E,mc as S,nb as o,ob as n,pb as d,tb as _,tc as L,ub as g,vb as y,yb as P}from"./chunk-ZNBC4ISR.js";import"./chunk-ODN5LVDJ.js";var z=["proyectosCarrusel"];function j(a,t){if(a&1){let e=_();o(0,"div",22),g("click",function(){let c=f(e).$implicit,l=y();return x(l.verDetalle(c.id))}),o(1,"div",23),d(2,"img",24),n(),o(3,"div",25)(4,"h3"),i(5),n(),o(6,"p"),i(7),n()()()}if(a&2){let e=t.$implicit;s(2),P("alt",e.nombre),p("src",e.imagenUrl,u),s(3),b(e.nombre),s(2),b(e.descripcionCorta)}}function F(a,t){a&1&&(o(0,"div",26)(1,"p"),i(2,"No se encontraron proyectos con los filtros seleccionados."),n()())}var T=class a{constructor(t,e){this.apiService=t;this.router=e}proyectos=[];filteredProyectos=[];isLoading=!0;searchTerm="";statusFilter="";proyectosCarrusel;ngOnInit(){this.cargarProyectos(),this.initializeChatbot()}cargarProyectos(){this.isLoading=!0,this.apiService.getProyectos().subscribe({next:t=>{this.proyectos=t,this.applyFilters(),this.isLoading=!1},error:t=>{console.error("Error al cargar proyectos",t),this.isLoading=!1}})}verDetalle(t){this.router.navigate(["/proyecto",t])}onSearch(t){this.searchTerm=t.target.value,this.applyFilters()}onStatusChange(t){this.statusFilter=t.target.value,this.applyFilters()}applyFilters(){this.filteredProyectos=this.proyectos.filter(t=>{let e=t.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||t.cliente&&t.cliente.toLowerCase().includes(this.searchTerm.toLowerCase()),r=this.statusFilter===""||t.estado===this.statusFilter;return e&&r})}scrollProyectos(t){let e=this.proyectosCarrusel.nativeElement;e&&(e.scrollLeft+=t==="right"?300:-300)}isChatbotVisible=!1;toggleChatbot(){this.isChatbotVisible=!this.isChatbotVisible,setTimeout(()=>{let t=document.getElementById("chatbot-container"),e=document.getElementById("chatbot-toggle");this.isChatbotVisible?(t?.classList.remove("chatbot-hidden"),t?.classList.add("chatbot-visible"),e?.classList.add("chatbot-active")):(t?.classList.remove("chatbot-visible"),t?.classList.add("chatbot-hidden"),e?.classList.remove("chatbot-active"))},10)}initializeChatbot(){setTimeout(()=>{let t=document.getElementById("chatbot-container"),e=document.getElementById("chatbot-toggle");t?.classList.add("chatbot-hidden"),e?.classList.remove("chatbot-active"),e?.addEventListener("click",()=>{this.toggleChatbot()})},100)}static \u0275fac=function(e){return new(e||a)(m(I),m(k))};static \u0275cmp=C({type:a,selectors:[["app-proyectos"]],viewQuery:function(e,r){if(e&1&&M(z,5),e&2){let c;O(c=w())&&(r.proyectosCarrusel=c.first)}},decls:32,vars:2,consts:[[1,"servicios-banner"],[1,"banner-content"],[1,"proyectos-seccion"],[1,"container"],[1,"filters-container"],[1,"search-bar"],["type","text","placeholder","Buscar por nombre o cliente...",3,"input"],[1,"fas","fa-search"],[1,"filter-controls"],[3,"change"],["value",""],["value","activo"],["value","inactivo"],["value","completado"],[1,"proyectos-grid"],["class","tarjeta-proyecto",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["id","chatbot-toggle",1,"chatbot-toggle-hidden"],[1,"chatbot-icon"],[1,"close-icon"],["id","chatbot-container",1,"chatbot-hidden"],["src",v`https://page.botpenguin.com/690c1346ff158e42155339eb/690c1052cde802431fa13ff0`,"id","chatbot-frame","allow","microphone; camera"],[1,"tarjeta-proyecto",3,"click"],[1,"imagen-placeholder"],[3,"src","alt"],[1,"texto-info"],[1,"empty-state"]],template:function(e,r){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),i(3,"Nuestros Proyectos"),n(),o(4,"p"),i(5,"Explora los proyectos que hemos realizado"),n()()(),o(6,"section",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"input",6),g("input",function(l){return r.onSearch(l)}),n(),d(11,"i",7),n(),o(12,"div",8)(13,"select",9),g("change",function(l){return r.onStatusChange(l)}),o(14,"option",10),i(15,"Todos los estados"),n(),o(16,"option",11),i(17,"Activo"),n(),o(18,"option",12),i(19,"Inactivo"),n(),o(20,"option",13),i(21,"Completado"),n()()()(),o(22,"div",14),h(23,j,8,4,"div",15),n(),h(24,F,3,0,"div",16),n()(),o(25,"button",17)(26,"span",18),i(27,"\u{1F4AC}"),n(),o(28,"span",19),i(29,"\u2715"),n()(),o(30,"div",20),d(31,"iframe",21),n()),e&2&&(s(23),p("ngForOf",r.filteredProyectos),s(),p("ngIf",!r.isLoading&&r.filteredProyectos.length===0))},dependencies:[L,E,S],styles:[".servicios-banner[_ngcontent-%COMP%], .proyectos-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary) 0%,#2a5298 100%);color:#fff;padding:64px 0;text-align:center}.servicios-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%], .proyectos-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{max-width:var(--max-width);margin:0 auto;padding:0 20px}.servicios-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .proyectos-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:0 0 12px}.btn-catalogo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;border:none;border-radius:8px;padding:10px 18px;cursor:pointer;font-weight:600;transition:transform .12s ease,box-shadow .12s ease,background .12s ease;background:var(--color-accent);color:#fff;box-shadow:0 6px 18px #ff6b351f}.btn-catalogo[_ngcontent-%COMP%]:hover{filter:brightness(.95)}.proyectos-seccion[_ngcontent-%COMP%]{padding:48px 0 80px;background:var(--color-bg)}.titulo-seccion[_ngcontent-%COMP%]{text-align:center;color:var(--color-primary);font-size:2rem;margin-bottom:18px}.proyectos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:24px;max-width:var(--max-width);margin:0 auto;padding:24px}.tarjeta-proyecto[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:12px;box-shadow:0 8px 30px #0206170f;overflow:hidden;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease;display:flex;flex-direction:column;height:100%}.tarjeta-proyecto[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 16px 50px #02061714}.imagen-placeholder[_ngcontent-%COMP%]{width:100%;height:180px;background:linear-gradient(180deg,#0000000a,#00000005);display:flex;align-items:center;justify-content:center}.imagen-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.texto-info[_ngcontent-%COMP%]{padding:16px}.texto-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--color-primary);font-size:1.1rem}.texto-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--color-muted);font-size:.95rem;line-height:1.4}.arrow-btn[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);width:44px;height:44px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700;color:var(--color-primary)}.arrow-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0206170f;transform:translateY(-2px)}.arrow-btn.left[_ngcontent-%COMP%]{margin-left:6px}.arrow-btn.right[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 900px){.tarjeta-proyecto.grande[_ngcontent-%COMP%]{min-width:340px;flex:0 0 340px}.imagen-placeholder[_ngcontent-%COMP%]{height:160px}}@media (max-width: 600px){.carrusel-wrapper[_ngcontent-%COMP%]{gap:8px}.arrow-btn[_ngcontent-%COMP%]{display:none}.proyectos-carrusel[_ngcontent-%COMP%]{padding:12px 6px;gap:12px}.tarjeta-proyecto[_ngcontent-%COMP%]{min-width:240px}}#chatbot-toggle[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:70px;height:70px;background:linear-gradient(135deg,#1e3c72,#2a5298);border:none;border-radius:50%;box-shadow:0 5px 20px #0000004d;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10000;transition:all .3s ease;overflow:hidden}#chatbot-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 8px 25px #0006}.chatbot-icon[_ngcontent-%COMP%], .close-icon[_ngcontent-%COMP%]{font-size:28px;transition:all .3s ease;position:absolute}.close-icon[_ngcontent-%COMP%]{opacity:0;transform:scale(.5)}#chatbot-toggle.chatbot-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#e55a2b)}#chatbot-toggle.chatbot-active[_ngcontent-%COMP%]   .chatbot-icon[_ngcontent-%COMP%]{opacity:0;transform:scale(.5)}#chatbot-toggle.chatbot-active[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}#chatbot-container[_ngcontent-%COMP%]{position:fixed;bottom:110px;right:30px;width:380px;height:500px;z-index:9999;border-radius:20px;overflow:hidden;box-shadow:0 10px 30px #0000004d;transition:all .3s ease}#chatbot-container.chatbot-hidden[_ngcontent-%COMP%]{opacity:0;transform:scale(0) translateY(20px);pointer-events:none}#chatbot-container.chatbot-visible[_ngcontent-%COMP%]{opacity:1;transform:scale(1) translateY(0);pointer-events:all}#chatbot-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;background:#fff}@media (max-width: 600px){#chatbot-container[_ngcontent-%COMP%]{width:95%;height:70%;bottom:100px;right:2.5%;left:2.5%}#chatbot-toggle[_ngcontent-%COMP%]{bottom:20px;right:20px;width:60px;height:60px}.chatbot-icon[_ngcontent-%COMP%], .close-icon[_ngcontent-%COMP%]{font-size:24px}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #ff6b35b3}70%{box-shadow:0 0 0 10px #ff6b3500}to{box-shadow:0 0 #ff6b3500}}#chatbot-toggle.has-notification[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}",".filters-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:30px;align-items:center}.search-bar[_ngcontent-%COMP%]{position:relative;flex-grow:1}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 20px 12px 40px;border:1px solid var(--color-border, #e6e9ee);border-radius:8px;font-size:1rem}.search-bar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:var(--color-muted, #6b7280)}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--color-border, #e6e9ee);border-radius:8px;background-color:#fff;font-size:1rem}"]})};export{T as ProyectosComponent};
