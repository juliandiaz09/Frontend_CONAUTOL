import{a as E}from"./chunk-CE3MLJZM.js";import{b as B,c as S,d as M,e as G,g as f}from"./chunk-XOJ3ZZYT.js";import"./chunk-FBWEELH3.js";import{a as O}from"./chunk-PNSEB424.js";import"./chunk-FY6VRBN4.js";import{$ as x,$a as y,Fb as r,Gb as F,Hb as P,Ma as d,Ob as D,P as R,Pb as T,Ra as u,Wa as p,Xa as L,_ as C,gb as g,kc as j,lc as V,mc as $,ob as i,pb as n,qb as c,rc as b,ub as I,vb as m,wb as v}from"./chunk-CTZ6MGBM.js";var K=(a,t,e)=>({"bg-success":a,"bg-warning":t,"bg-info":e}),Q=(a,t)=>({"bg-success":a,"bg-warning":t});function W(a,t){a&1&&(i(0,"div",14),r(1,"Cargando datos..."),n())}function X(a,t){if(a&1&&(i(0,"div",15),r(1),n()),a&2){let e=v();d(),P(" ",e.error," ")}}function Y(a,t){if(a&1){let e=I();i(0,"tr")(1,"td"),r(2),n(),i(3,"td")(4,"span",16),r(5),n()(),i(6,"td")(7,"button",17),m("click",function(){let s=C(e).$implicit,l=v();return x(l.navegarA("/admin/proyectos/editar/"+s.id))}),c(8,"i",18),n(),i(9,"button",19),m("click",function(){let s=C(e).$implicit,l=v();return x(l.eliminarProyecto(s.id))}),c(10,"i",20),n()()()}if(a&2){let e=t.$implicit;d(2),F(e.nombre),d(2),g("ngClass",T(3,K,e.estado==="activo",e.estado==="inactivo",e.estado==="completado")),d(),P(" ",e.estado," ")}}function Z(a,t){if(a&1){let e=I();i(0,"tr")(1,"td"),r(2),n(),i(3,"td")(4,"span",16),r(5),n()(),i(6,"td")(7,"button",17),m("click",function(){let s=C(e).$implicit,l=v();return x(l.navegarA("/admin/servicios/editar/"+s.id))}),c(8,"i",18),n(),i(9,"button",19),m("click",function(){let s=C(e).$implicit,l=v();return x(l.eliminarServicio(s.id))}),c(10,"i",20),n()()()}if(a&2){let e=t.$implicit;d(2),F(e.nombre),d(2),g("ngClass",D(3,Q,e.estado==="activo",e.estado==="inactivo")),d(),P(" ",e.estado," ")}}var h=class a{constructor(t,e){this.apiService=t;this.router=e}loading=!1;error=null;proyectos=[];servicios=[];isSubmittingProyecto=!1;isSubmittingServicio=!1;ngOnInit(){this.cargarDatos()}navegarA(t){this.router.navigate([t])}cargarDatos(){this.loading=!0,this.apiService.getProyectos().subscribe({next:t=>{this.proyectos=t,this.loading=!1},error:t=>{this.error="Error al cargar los proyectos",this.loading=!1,console.error("Error:",t)}}),this.apiService.getServicios().subscribe({next:t=>{this.servicios=t},error:t=>{this.error=this.error?this.error+" y servicios":"Error al cargar los servicios",console.error("Error:",t)}})}crearProyecto(t){this.isSubmittingProyecto=!0,this.apiService.crearProyecto(t).subscribe({next:e=>{let o={id:e.id,nombre:e.nombre,descripcion:e.descripcion||"",descripcionCorta:e.descripcion?e.descripcion.substring(0,100)+"...":"",imagen_url:e.imagen_url||"",imagenUrl:e.imagen_url||"",estado:e.estado||"activo",cliente:e.cliente||""};this.proyectos.push(o),this.isSubmittingProyecto=!1,this.navegarA("/admin/proyectos/nuevo")},error:e=>{this.error="Error al crear el proyecto",this.isSubmittingProyecto=!1,console.error("Error al crear el proyecto:",e)}})}editarProyecto(t,e){this.isSubmittingProyecto=!0,this.apiService.actualizarProyecto(t,e).subscribe({next:o=>{let s={id:o.id,nombre:o.nombre,descripcion:o.descripcion||"",descripcionCorta:o.descripcion?o.descripcion.substring(0,100)+"...":"",imagen_url:o.imagen_url||"",imagenUrl:o.imagen_url||"",estado:o.estado||"activo",cliente:o.cliente||""};this.proyectos=this.proyectos.map(l=>l.id===t?s:l),this.isSubmittingProyecto=!1,this.navegarA("/admin/proyectos/editar/"+e.id)},error:o=>{this.error="Error al editar el proyecto",this.isSubmittingProyecto=!1,console.error("Error al editar el proyecto:",o)}})}crearServicio(t){this.isSubmittingServicio=!0,this.apiService.crearServicio(t).subscribe({next:e=>{let o={id:e.id,nombre:e.nombre,descripcion:e.descripcion||"",descripcionCorta:e.descripcion?e.descripcion.substring(0,100)+"...":"",imagen_url:e.imagen_url||"",imagenUrl:e.imagen_url||"",estado:e.estado||"activo"};this.servicios.push(o),this.isSubmittingServicio=!1,this.navegarA("/admin/servicios/nuevo")},error:e=>{this.error="Error al crear el servicio",this.isSubmittingServicio=!1,console.error("Error al crear el servicio:",e)}})}editarServicio(t,e){this.isSubmittingServicio=!0,this.apiService.actualizarServicio(t,e).subscribe({next:o=>{let s={id:o.id,nombre:o.nombre,descripcion:o.descripcion||"",descripcionCorta:o.descripcion?o.descripcion.substring(0,100)+"...":"",imagen_url:o.imagen_url||"",imagenUrl:o.imagen_url||"",estado:o.estado||"activo"};this.servicios=this.servicios.map(l=>l.id===t?s:l),this.isSubmittingServicio=!1,this.navegarA("/admin/servicios/editar/"+e.id)},error:o=>{this.error="Error al editar el servicio",this.isSubmittingServicio=!1,console.error("Error al editar el servicio:",o)}})}eliminarProyecto(t){confirm("\xBFEst\xE1 seguro de que desea eliminar este proyecto?")&&this.apiService.eliminarProyecto(t).subscribe({next:()=>{this.proyectos=this.proyectos.filter(e=>e.id!==t),this.cargarDatos()},error:e=>{console.error("Error al eliminar el proyecto:",e),this.error="Error al eliminar el proyecto"}})}eliminarServicio(t){confirm("\xBFEst\xE1 seguro de que desea eliminar este servicio?")&&this.apiService.eliminarServicio(t).subscribe({next:()=>{this.servicios=this.servicios.filter(e=>e.id!==t),this.cargarDatos()},error:e=>{console.error("Error al eliminar el servicio:",e),this.error="Error al eliminar el servicio"}})}static \u0275fac=function(e){return new(e||a)(u(O),u(S))};static \u0275cmp=p({type:a,selectors:[["app-panel-inicio"]],decls:50,vars:4,consts:[[1,"container","admin-dashboard"],[1,"dashboard-header"],[1,"muted"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"dashboard-content"],[1,"card"],[1,"card-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(e,o){e&1&&(i(0,"div",0),c(1,"app-back-button"),i(2,"header",1)(3,"h1"),r(4,"Panel de Administraci\xF3n"),n(),i(5,"p",2),r(6," Bienvenido al panel de administraci\xF3n. Aqu\xED puedes gestionar los proyectos y servicios de la plataforma. "),n()(),y(7,W,2,0,"div",3)(8,X,2,1,"div",4),i(9,"div",5)(10,"div",6)(11,"div",7)(12,"h2"),r(13,"Proyectos"),n(),i(14,"button",8),m("click",function(){return o.navegarA("/admin/proyectos/nuevo")}),c(15,"i",9),r(16," Nuevo Proyecto "),n()(),i(17,"div",10)(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),r(23,"Nombre"),n(),i(24,"th"),r(25,"Estado"),n(),i(26,"th"),r(27,"Acciones"),n()()(),i(28,"tbody"),y(29,Y,11,7,"tr",13),n()()()()(),i(30,"div",6)(31,"div",7)(32,"h2"),r(33,"Servicios"),n(),i(34,"button",8),m("click",function(){return o.navegarA("/admin/servicios/nuevo")}),c(35,"i",9),r(36," Nuevo Servicio "),n()(),i(37,"div",10)(38,"div",11)(39,"table",12)(40,"thead")(41,"tr")(42,"th"),r(43,"Nombre"),n(),i(44,"th"),r(45,"Estado"),n(),i(46,"th"),r(47,"Acciones"),n()()(),i(48,"tbody"),y(49,Z,11,6,"tr",13),n()()()()()()()),e&2&&(d(7),g("ngIf",o.loading),d(),g("ngIf",o.error),d(21),g("ngForOf",o.proyectos),d(20),g("ngForOf",o.servicios))},dependencies:[b,j,V,$,f,E],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:40px 20px}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:40px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--color-primary, #0f4c81)}.dashboard-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 992px){.dashboard-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.card[_ngcontent-%COMP%]{background-color:var(--color-surface, #fff);border-radius:12px;box-shadow:0 8px 16px #0000000d;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background-color:#f8f9fa;border-bottom:1px solid var(--color-border, #e6e9ee)}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.card-body[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid var(--color-border, #e6e9ee)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.badge[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:capitalize}.bg-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.bg-warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.bg-info[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460}.btn-sm[_ngcontent-%COMP%]{padding:5px 10px;font-size:.9rem;margin-right:5px}"]})};var _=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-configuracion"]],decls:38,vars:0,consts:[[1,"container","admin-section"],[1,"section-header"],[1,"muted"],[1,"settings-content"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"setting-card"],[1,"card-title"],[1,"card-text"],[1,"d-flex","gap-2"],["routerLink","/admin/proyectos",1,"btn","btn-outline-primary"],[1,"fas","fa-folder"],["routerLink","/admin/servicios",1,"btn","btn-outline-primary"],[1,"fas","fa-concierge-bell"],["disabled","",1,"btn","btn-outline-secondary"],[1,"fas","fa-cog"]],template:function(e,o){e&1&&(i(0,"div",0),c(1,"app-back-button"),i(2,"header",1)(3,"h1"),r(4,"Configuraci\xF3n del Sistema"),n(),i(5,"p",2),r(6," Ajustes y configuraci\xF3n de los m\xF3dulos de la aplicaci\xF3n. "),n()(),i(7,"div",3)(8,"div",4)(9,"div",5)(10,"h2"),r(11,"Opciones de Administraci\xF3n"),n()(),i(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",6)(17,"h5",10),r(18,"Gesti\xF3n de Contenido"),n(),i(19,"p",11),r(20," Configura los m\xF3dulos de proyectos y servicios. "),n(),i(21,"div",12)(22,"a",13),c(23,"i",14),r(24," Proyectos "),n(),i(25,"a",15),c(26,"i",16),r(27," Servicios "),n()()()()(),i(28,"div",8)(29,"div",9)(30,"div",6)(31,"h5",10),r(32,"Ajustes Generales"),n(),i(33,"p",11),r(34,"Configuraci\xF3n general del sistema."),n(),i(35,"button",17),c(36,"i",18),r(37," Pr\xF3ximamente "),n()()()()()()()()())},dependencies:[b,f,M,E],styles:[".admin-section[_ngcontent-%COMP%]{padding:40px 20px}.section-header[_ngcontent-%COMP%]{margin-bottom:40px}.section-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--color-primary, #0f4c81)}.settings-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:var(--color-surface, #fff);border-radius:12px;box-shadow:0 8px 16px #0000000d;overflow:hidden}.settings-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fa;border-bottom:1px solid var(--color-border, #e6e9ee)}.settings-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.setting-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;height:100%}.setting-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:10px}.setting-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:var(--color-muted, #6b7280);margin-bottom:20px}.btn-outline-primary[_ngcontent-%COMP%]{color:var(--color-primary, #0f4c81);border-color:var(--color-primary, #0f4c81)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--color-primary, #0f4c81);color:#fff}"]})};var w=class a{constructor(t,e){this.apiService=t;this.router=e}logout(){this.apiService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)(u(O),u(S))};static \u0275cmp=p({type:a,selectors:[["app-admin-navbar"]],decls:24,vars:0,consts:[[1,"admin-header"],[1,"container"],[1,"header-content"],[1,"logo"],["routerLink","/admin"],[1,"main-nav"],["routerLink","/admin/panel","routerLinkActive","active"],["routerLink","/admin/proyectos","routerLinkActive","active"],["routerLink","/admin/servicios","routerLinkActive","active"],["routerLink","/admin/configuracion","routerLinkActive","active"],[1,"user-menu"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(e,o){e&1&&(i(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),r(5,"Admin Panel"),n()(),i(6,"nav",5)(7,"ul")(8,"li")(9,"a",6),r(10,"Dashboard"),n()(),i(11,"li")(12,"a",7),r(13,"Proyectos"),n()(),i(14,"li")(15,"a",8),r(16,"Servicios"),n()(),i(17,"li")(18,"a",9),r(19,"Configuraci\xF3n"),n()()()(),i(20,"div",10)(21,"button",11),m("click",function(){return o.logout()}),c(22,"i",12),r(23," Logout "),n()()()()())},dependencies:[M,G],styles:[".admin-header[_ngcontent-%COMP%]{background-color:var(--color-primary, #0f4c81);color:#fff;padding:0 20px;box-shadow:0 2px 4px #0000001a;height:76px;display:flex;align-items:center}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:20px}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;padding:10px 15px;border-radius:8px;transition:background-color .3s,color .3s}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--color-accent, #ff6b35);color:#fff;font-weight:600}.user-menu[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#fff}.user-menu[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}"]})};var A=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-admin-layout"]],decls:2,vars:0,template:function(e,o){e&1&&c(0,"app-admin-navbar")(1,"router-outlet")},dependencies:[B,w],encapsulation:2})};var q=[{path:"",component:A,children:[{path:"",redirectTo:"panel",pathMatch:"full"},{path:"panel",component:h},{path:"configuracion",component:_},{path:"proyectos",loadChildren:()=>import("./chunk-ZFVHCHC2.js").then(a=>a.GestionProyectosModule)},{path:"servicios",loadChildren:()=>import("./chunk-QVVBT6AE.js").then(a=>a.GestionServiciosModule)}]}];var H=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=L({type:a});static \u0275inj=R({imports:[b,f.forChild(q),h,_,f]})};export{H as AdministradorModule};
