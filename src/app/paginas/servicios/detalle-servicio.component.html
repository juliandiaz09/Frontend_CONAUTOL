<!-- ESTADO: cargando -->
<div class="detalle-servicio-page" *ngIf="isLoading">
  <div class="container">
    <p>Cargando servicio...</p>
  </div>
</div>

<!-- ESTADO: servicio cargado -->
<div class="detalle-servicio-page" *ngIf="!isLoading && servicio; else notFoundTpl">
  <div class="container">
    <!-- 1. Título (arriba) -->
    <h1 class="detalle-title">{{ servicio.nombre }}</h1>

    <!-- 2. Imagen -->
    <div class="detalle-imagen" *ngIf="servicio.imagenUrl || servicio.imagen_url">
      <img
        [src]="servicio.imagenUrl || servicio.imagen_url"
        [alt]="servicio.nombre"
      />
    </div>

    <!-- 3. Descripción -->
    <div class="detalle-section">
      <h2>Descripción</h2>
      <p class="descripcion">
        {{ servicio.descripcion }}
      </p>
    </div>

    <!-- 4. Características -->
    <div class="detalle-section" *ngIf="servicio.caracteristicas?.length">
      <h2>Características</h2>
      <ul class="caracteristicas-list">
        <li *ngFor="let item of servicio.caracteristicas">
          <span class="material-icons">check_circle_outline</span>
          <span>{{ item }}</span>
        </li>
      </ul>
    </div>

    <!-- Meta: categoría y estado (can be placed subtly) -->
    <div class="detalle-meta-container">
      <span *ngIf="servicio.categoria" class="badge badge-categoria">
        {{ servicio.categoria }}
      </span>
      <span
        class="badge"
        [ngClass]="{
          'badge-activo': servicio.estado === 'activo',
          'badge-inactivo': servicio.estado === 'inactivo',
          'badge-completado': servicio.estado === 'completado'
        }"
      >
        {{ servicio.estado | uppercase }}
      </span>
    </div>

    <!-- Botón de Volver -->
    <div class="volver-container">
      <a routerLink="/servicios" class="btn-primary">&larr; Volver a Servicios</a>
    </div>
  </div>
</div>

<!-- TEMPLATE: servicio no encontrado -->
<ng-template #notFoundTpl>
  <div class="detalle-servicio-page">
    <div class="container">
      <p>Servicio no encontrado.</p>
      <a routerLink="/servicios" class="btn-primary">Volver a Servicios</a>
    </div>
  </div>
</ng-template>

<!-- TEMPLATE: sin resultados para el filtro -->
<ng-template #noResultadosTpl>
  <p>No se encontraron características que coincidan con el filtro.</p>
</ng-template>
